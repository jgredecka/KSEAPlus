{% extends "layout.html" %}
{% block title %} {{title}} {% endblock %}
{% block content %}

<div class="AjaxOnly"></div>
<div style="display: none;" id="task-id">{{ taskid }}</div>
<div style="display: none;" id="alg-type">{{ alg_type }}</div>
<h2>Your KSEA Results</h2>
<br><br>
<div id="task-error"></div>
<div class="ksea-tabs">
<ul class="nav nav-tabs" id="myTab" role="tablist">
  <li class="nav-item">
    <a class="nav-link active" id="score-tab" data-toggle="tab" href="#score" role="tab" aria-controls="score" aria-selected="true">Kinase Score Data</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="links-tab" data-toggle="tab" href="#links" role="tab" aria-controls="links" aria-selected="false">Kinase-Substrate Relationships</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="graphs-tab" data-toggle="tab" href="#graphs" role="tab" aria-controls="graphs" aria-selected="false">Graphs</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" id="download-tab" data-toggle="tab" href="#download" role="tab" aria-controls="download" aria-selected="false">Download</a>
  </li>
</ul>
<div class="tab-content" id="myTabContent">
  <div class="tab-pane fade show active" id="score" role="tabpanel" aria-labelledby="score-tab">
  <br>
    <div class="ajax-loader" style="display: none;">
    <div class="text-center">
    <div class="spinner-border" role="status"></div>
    <div class="ajax-text">Fetching results...</div>
    </div>
    </div>
  <div id="ajax-scores">{{ placeholder|safe }}</div>
  </div>
  <div class="tab-pane fade" id="links" role="tabpanel" aria-labelledby="links-tab">
  <br>
    <div class="ajax-loader" style="display: none;">
    <div class="text-center">
    <div class="spinner-border" role="status"></div>
    <div class="ajax-text">Fetching results...</div>
    </div>
    </div>
  <div id="ajax-links">{{ placeholder|safe }}</div>
  </div>
  <div class="tab-pane fade" id="graphs" role="tabpanel" aria-labelledby="graphs-tab">
  <br>
  <div class="slide">
    <div class="ajax-loader" style="display: none;">
    <div class="text-center">
    <div class="spinner-border" role="status"></div>
    <div class="ajax-text">Fetching results...</div>
    </div>
    </div>
  <div id="ajax-plot" style="text-align:center;">{{ placeholder|safe }}</div>
  </div>
  </div>
  <div class="tab-pane fade" id="download" role="tabpanel" aria-labelledby="download-tab">
  <br><br>
  <a href="{{ url_for('fig_download', uid=uid) }}" class="link"><span class="fas fa-cloud-download-alt id"></span><strong>Kinase-Score Heatmap (.svg)</strong></a>
  <br><br>
  <a href="{{ url_for('download_scores', uid=uid) }}" class="link"><span class="fas fa-cloud-download-alt"></span><strong>Kinase-Score Data (.csv)</strong></a>
  <br><br>
  <a href="{{ url_for('download_links', uid=uid) }}" class="link"><span class="fas fa-cloud-download-alt"></span><strong>KS-Relationships Data (.csv)</strong></a>
  <br><br>
  <div class="alert alert-danger" role="alert">
     <strong>Note:</strong> Generated data are for non-commercial use only. Whe using data from PSP-based analyses you agree to these <a href="https://www.phosphosite.org/staticDownloads">Terms and Conditions</a>.
  </div>
  </div>
</div>
</div>
{% endblock %}